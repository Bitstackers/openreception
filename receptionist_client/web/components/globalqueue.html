<!DOCTYPE html>

<html>
  <head>
    <link rel="import" href="boxwithheader.html">
    <link rel="import" href="callqueueitem.html">
  </head>
  <body>
    <element name="global-queue" constructor="GlobalQueue" extends="span" apply-author-styles>
      <style scoped>
        .placing {
          position: absolute;
          top: 52%;
          left: 79%;
          height: 30%;
          width: 21%;
        }

        .container {
          height: 100%;
          width: 100%;
          overflow: auto;
          font-size: 0.9em;
        }

        .zebra {
          list-style-type: none;
          width: 100%;
        }

        .zebra li:nth-of-type(even) {
          background-color: #eee;
        }
      </style>

      <template>
        <box-with-header class="placing">
          <span name="boxheader" class="header">
            {{title}}
            <span style="float: right">
              <button on-click="pickupnextcallHandler()" disabled="{{environment.call.current != model.nullCall}}">Pickup</button>
              <button on-click="hangupcallHandler()" disabled="{{environment.call.current == model.nullCall}}">Hangup</button>
              <button on-click="holdcallHandler()" disabled="{{environment.call.current == model.nullCall}}">Hold</button>
            </span>
          </span>

          <div name="boxcontent" class="container">
            <ul template iterate="call in calls" class="zebra">
              <call-queue-item call="{{call}}"></call-queue-item>
            </ul>
          </div>
        </box-with-header>
      </template>

      <script type="application/dart" src="globalqueue.dart"></script>
    </element>
  </body>
</html>
